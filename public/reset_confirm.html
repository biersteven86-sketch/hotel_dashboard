<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Neues Passwort · Hotel-Dashboard</title>
  <meta name="color-scheme" content="light dark">
  <link rel="preload" as="image" href="/hotel-dashboard-bg.jpg">
  <link rel="preload" as="image" href="/HD-Logo.png">
  <link rel="preload" as="image" href="/Hotel-Dashboard-Schriftzug.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* identischer Stil wie reset/login */
    :root{--page:#06080c;--text:#eef2f8;--muted:#cfd6de;--accent:#b71c1c;--accent-2:#7f0000;--accent-link:#fff;--panel-r:103;--panel-g:103;--panel-b:103;--panel-alpha:.50;--panel-border:rgba(255,255,255,.10);--card-w:440px;--radius:22px;--hd:132px;--word-gap:-28px;--title-w:clamp(300px,78%,540px);--title-gap:-20px}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-size:16px;line-height:1.45;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif;color:var(--text);background:var(--page) url("/hotel-dashboard-bg.jpg") center/cover fixed no-repeat}
    .wrap{min-height:100%;display:grid;place-items:center;padding:clamp(18px,4vw,60px)}
    .card{position:relative;width:min(var(--card-w),94vw);border-radius:var(--radius);background:rgba(var(--panel-r),var(--panel-g),var(--panel-b),var(--panel-alpha));backdrop-filter:blur(8px) saturate(120%);-webkit-backdrop-filter:blur(8px) saturate(120%);border:1px solid var(--panel-border);box-shadow:0 26px 70px rgba(0,0,0,.68),0 1px 0 rgba(255,255,255,.05) inset;padding:clamp(18px,2.2vw,24px);padding-top:calc(var(--hd)*.66 + var(--title-gap) + 14px);padding-bottom:8px;overflow:visible}
    .brand-stack{position:absolute;left:50%;top:0;transform:translate(-50%,-51%);display:grid;place-items:center;pointer-events:none;z-index:5;width:min(32vw,520px)}
    .brand-stack .hd{width:var(--hd);height:var(--hd);object-fit:contain;display:block;filter:drop-shadow(0 22px 38px rgba(0,0,0,.55)) drop-shadow(0 1px 0 rgba(255,255,255,.08))}
    .brand-stack .wordmark{margin-top:var(--word-gap);width:var(--title-w);height:auto;display:block;filter:drop-shadow(0 1px 0 rgba(255,255,255,.10)) drop-shadow(0 16px 26px rgba(0,0,0,.50))}
    .title-spacer{height:var(--title-gap)}
    .content{display:grid;gap:10px}
    label{display:block;font-size:15px;color:#fff;margin:0 0 4px}
    .field{display:grid;grid-template-columns:1fr;align-items:center;min-height:48px;padding:0 12px;border-radius:14px;background:transparent;border:1.2px solid rgba(255,255,255,.25);box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 10px 26px rgba(0,0,0,.40);transition:box-shadow .15s ease,border-color .15s ease}
    .field:focus-within{border-color:rgba(255,255,255,.42);box-shadow:0 0 0 3px rgba(224,40,36,.18),0 14px 34px rgba(0,0,0,.55)}
    .field input{background:transparent;border:0;outline:0;color:#fff;font-size:16px;padding:10px 8px;width:100%;caret-color:#fff}
    .field input::placeholder{color:rgba(255,255,255,.90)}
    .submit{margin-top:12px;border:0;border-radius:14px;padding:12px 26px;font-weight:900;font-size:16px;color:#fff;cursor:pointer;background:linear-gradient(180deg,var(--accent),var(--accent-2))}
    .submit:hover{box-shadow:0 8px 18px rgba(0,0,0,.25)} .submit:active{transform:translateY(1px) scale(.997)} .submit:disabled{opacity:.6;cursor:not-allowed}
    .row-links{display:flex;gap:12px;font-size:14px;margin-top:8px}
    .row-links a{color:var(--accent-link);text-decoration:none}
    .ok,.error{display:none;padding:10px 12px;border-radius:12px;font-size:13px;margin:0 0 8px}
    .ok{background:rgba(24,140,60,.14);border:1px solid rgba(24,140,60,.45);color:#d7ffe6}
    .error{background:rgba(224,39,36,.12);border:1px solid rgba(224,39,36,.45);color:#ffd6d6}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="group" aria-labelledby="hd-title">
      <div class="brand-stack" aria-hidden="true">
        <img class="hd" src="/HD-Logo.png" alt="HD">
        <img class="wordmark" src="/Hotel-Dashboard-Schriftzug.png" alt="Hotel-Dashboard" id="hd-title">
      </div>
      <div class="title-spacer" aria-hidden="true"></div>

      <div class="content">
        <div class="ok" id="ok"></div>
        <div class="error" id="err"></div>

        <!-- Oberfläche: Token + neues Passwort; POST-Ziel bitte an deine Server-Route anpassen (/reset-confirm o.ä.) -->
        <form action="/reset-confirm" method="POST" id="form-reset" novalidate>
          <div>
            <label for="token">Token</label>
            <div class="field"><input id="token" name="token" type="text" placeholder="8-stelliger Code" required /></div>
          </div>
          <div>
            <label for="pw1">Neues Passwort</label>
            <div class="field"><input id="pw1" name="password" type="password" placeholder="••••••••" required autocomplete="new-password" /></div>
          </div>
          <div>
            <label for="pw2">Passwort wiederholen</label>
            <div class="field"><input id="pw2" name="password2" type="password" placeholder="••••••••" required autocomplete="new-password" /></div>
          </div>

          <div class="row-links"><a href="/login">Zurück zum Login</a></div>
          <button class="submit" id="submitBtn" type="submit" disabled>Passwort setzen</button>
        </form>
      </div>

      <div class="foot">
        <small>© <span id="y"></span> Hotel-Dashboard<br>Powered by MY HOME HOTEL LAMM ROTTWEIL GMBH</small>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    const t=document.getElementById('token'), a=document.getElementById('pw1'), b=document.getElementById('pw2'), s=document.getElementById('submitBtn'), err=document.getElementById('err');
    const enable=()=>{ s.disabled = !(t.value.trim() && a.value.trim() && b.value.trim() && a.value===b.value); };
    [t,a,b].forEach(el=>el.addEventListener('input',enable)); enable();
  </script>
</body>
</html>
